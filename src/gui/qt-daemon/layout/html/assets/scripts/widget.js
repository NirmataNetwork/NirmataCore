!function a(i,r,s){function o(e,t){if(!r[e]){if(!i[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(c)return c(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}n=r[e]={exports:{}},i[e][0].call(n.exports,function(t){return o(i[e][1][t]||t)},n,n.exports,a,i,r,s)}return r[e].exports}for(var c="function"==typeof require&&require,t=0;t<s.length;t++)o(s[t]);return o}({1:[function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,function(t){t=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==r(t)?t:String(t)}(a.key),a)}}function i(t,e,n){e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1})}var o=function(){function t(){s(this,t),this.widgets=new c,this.bind()}return i(t,[{key:"bind",value:function(){var t=this;window[this.widgets.defaults.objectName]={},document.addEventListener("DOMContentLoaded",function(){return t.initWidgets()},!1),window[this.widgets.defaults.objectName].bindWidget=function(){window[t.widgets.defaults.objectName].init=!1,t.initWidgets()}}},{key:"initWidgets",value:function(){var a=this;if(!window[this.widgets.defaults.objectName].init){window[this.widgets.defaults.objectName].init=!0;var e=Array.prototype.slice.call(document.getElementsByClassName(this.widgets.defaults.className)),t=(this.widgets.setWidgetClass(e),window.addEventListener("resize",function(){a.widgets.setWidgetClass(e);for(var t=0;t<e.length;t++)a.widgets.setBeforeElementInFooter(t)},!1),this.widgets.getScriptElement());if(t&&t.dataset&&t.dataset.cpCurrencyWidget){var n=JSON.parse(t.dataset.cpCurrencyWidget);if(Object.keys(n))for(var i=Object.keys(n),r=0;r<i.length;r++){var s=i[r].replace("-","_");this.widgets.defaults[s]=n[i[r]]}}setTimeout(function(){return a.widgets.states=[],p.loop(e,function(t,e){var n=JSON.parse(JSON.stringify(a.widgets.defaults)),t=(n.isWordpress=t.classList.contains("wordpress"),n.isNightMode=t.classList.contains("cp-widget__night-mode"),n.mainElement=t,a.widgets.states.push(n),Promise.resolve());return t=(t=t.then(function(){return-1<n.modules.indexOf("chart")&&!window.Highcharts?p.loop(["//code.highcharts.com/stock/highstock.js","//code.highcharts.com/modules/exporting.js","//code.highcharts.com/modules/no-data-to-display.js","//highcharts.github.io/pattern-fill/pattern-fill-v2.js"],function(t){return h.fetchScript(t)}):null})).then(function(){return a.widgets.init(e)})})},50)}}}]),t}(),c=function(){function t(){s(this,t),this.states=[],this.defaults={objectName:"cpCurrencyWidgets",className:"coinpaprika-currency-widget",cssFileName:"widget.min.css",currency:"btc-bitcoin",primary_currency:"USD",range_list:["24h","7d","30d","1q","1y","ytd","all"],range:"7d",modules:["market_details","chart"],update_active:!1,update_timeout:"30s",language:"en",customDate:!1,startDate:null,endDate:null,style_src:null,img_src:null,lang_src:null,data_src:null,origin_src:"https://unpkg.com/@coinpaprika/widget-currency@latest",show_details_currency:!1,ticker:{name:void 0,symbol:void 0,price:void 0,price_change_24h:void 0,rank:void 0,price_ath:void 0,volume_24h:void 0,market_cap:void 0,percent_from_price_ath:void 0,volume_24h_change_24h:void 0,market_cap_change_24h:void 0},interval:null,isWordpress:!1,isNightMode:!1,isData:!1,availableModules:["price","chart","market_details"],message:"data_loading",translations:{},mainElement:null,noTranslationLabels:[],scriptsDownloaded:{},chart:null,rwd:{xs:280,s:320,m:370,l:462}}}return i(t,[{key:"init",value:function(t){var e=this;return this.getMainElement(t)?Promise.resolve().then(function(){return e.getDefaults(t)}).then(function(){return e.setOriginLink(t)}):console.error('Bind failed, no element with class = "'+this.defaults.className+'"')}},{key:"setWidgetClass",value:function(t){for(var e=0;e<t.length;e++)for(var n=t[e].getBoundingClientRect().width,a=Object.keys(this.defaults.rwd),i=0;i<a.length;i++){var r=a[i],s=this.defaults.rwd[r],r=this.defaults.className+"__"+r;n<=s&&t[e].classList.add(r),s<n&&t[e].classList.remove(r)}}},{key:"getMainElement",value:function(t){return this.states[t]?this.states[t].mainElement:null}},{key:"getDefaults",value:function(n){var a=this;return new Promise(function(t){var e=a.getMainElement(n);return e&&e.dataset&&(e.dataset.modules||"extended"!==e.dataset.version||a.updateData(n,"modules",["market_details"]),e.dataset.modules||"standard"!==e.dataset.version||a.updateData(n,"modules",[]),e.dataset.modules&&a.updateData(n,"modules",JSON.parse(e.dataset.modules)),e.dataset.primaryCurrency&&a.updateData(n,"primary_currency",e.dataset.primaryCurrency),e.dataset.currency&&a.updateData(n,"currency",e.dataset.currency),e.dataset.customDate&&a.updateData(n,"customDate",e.dataset.customDate),e.dataset.startDate&&a.updateData(n,"startDate",e.dataset.startDate),e.dataset.endDate&&a.updateData(n,"endDate",e.dataset.endDate),e.dataset.range&&a.updateData(n,"range",e.dataset.range),e.dataset.showDetailsCurrency&&a.updateData(n,"show_details_currency","true"===e.dataset.showDetailsCurrency),e.dataset.updateActive&&a.updateData(n,"update_active","true"===e.dataset.updateActive),e.dataset.updateTimeout&&a.updateData(n,"update_timeout",p.parseIntervalValue(e.dataset.updateTimeout)),e.dataset.language&&a.updateData(n,"language",e.dataset.language),e.dataset.originSrc&&a.updateData(n,"origin_src",e.dataset.originSrc),e.dataset.nodeModulesSrc&&a.updateData(n,"node_modules_src",e.dataset.nodeModulesSrc),e.dataset.bowerSrc&&a.updateData(n,"bower_src",e.dataset.bowerSrc),e.dataset.styleSrc&&a.updateData(n,"style_src",e.dataset.styleSrc),e.dataset.langSrc&&a.updateData(n,"logo_src",e.dataset.langSrc),e.dataset.imgSrc)&&a.updateData(n,"logo_src",e.dataset.imgSrc),t()})}},{key:"setOriginLink",value:function(t){var e=this,n=(0===Object.keys(this.defaults.translations).length&&this.getTranslations(this.defaults.language),Promise.resolve());return n=(n=(n=n.then(function(){return e.stylesheet()})).then(function(){return e.addWidgetElement(t)})).then(function(){return e.initInterval(t)})}},{key:"addWidgetElement",value:function(e){var n=this,t=this.getMainElement(e),a="",i=[],r=null,s=Promise.resolve();return s=(s=(s=(s=(s=(s=(s=s.then(function(){return p.loop(n.defaults.availableModules,function(t){return-1<n.states[e].modules.indexOf(t)?i.push(t):null})})).then(function(){return p.loop(i,function(t){t="market_details"===t?"MarketDetails":"chart"===t?"Chart":null;return t?n["widget".concat(t,"Element")](e).then(function(t){return a+=t}):null})})).then(function(){return t.innerHTML=n.widgetMainElement(e)+a+n.widgetFooter(e)})).then(function(){return(r=document.getElementById("".concat(n.defaults.className,"-price-chart-").concat(e)))?r.parentElement.insertAdjacentHTML("beforeend",n.widgetSelectElement(e,"range")):null})).then(function(){return r&&(n.states[e].chart=new l(r,n.states[e]),n.setSelectListeners(e)),null})).then(function(){return n.setBeforeElementInFooter(e)})).then(function(){return n.getData(e)})}},{key:"setSelectListeners",value:function(e){for(var n=this,t=this.getMainElement(e).querySelectorAll(".cp-widget-select"),a=0;a<t.length;a++)for(var i=t[a].querySelectorAll(".cp-widget-select__options button"),r=0;r<i.length;r++)i[r].addEventListener("click",function(t){n.setSelectOption(t,e)},!1)}},{key:"setSelectOption",value:function(t,e){for(var n="cp-widget-active",a=0;a<t.target.parentNode.childNodes.length;a++){var i=t.target.parentNode.childNodes[a];i.classList.contains(n)&&i.classList.remove(n)}var r=t.target.closest(".cp-widget-select"),s=r.dataset.type,r=r.querySelector(".cp-widget-select__options > span"),o=t.target.dataset.option;r.innerText=this.getTranslation(e,o.toLowerCase()),this.updateData(e,s,o),t.target.classList.add(n),this.dispatchEvent(e,"-switch-range",o)}},{key:"dispatchEvent",value:function(t,e,n){t="".concat(this.defaults.className,"-price-chart-").concat(t);return document.dispatchEvent(new CustomEvent("".concat(t).concat(e),{detail:{data:n}}))}},{key:"getData",value:function(e){var n=this,t="https://api.coinpaprika.com/v1/widget/"+this.states[e].currency+"?quote="+this.states[e].primary_currency;return h.fetchData(t).then(function(t){return t.json().then(function(t){n.states[e].isData||n.updateData(e,"isData",!0),n.updateTicker(e,t)})}).catch(function(t){return n.onErrorRequest(e,t)})}},{key:"onErrorRequest",value:function(t,e){this.states[t].isData&&this.updateData(t,"isData",!1),this.updateData(t,"message","data_unavailable"),console.error("Request failed.  Returned status of "+e,this.states[t])}},{key:"initInterval",value:function(t){var e=this;clearInterval(this.states[t].interval),this.states[t].update_active&&1e3<this.states[t].update_timeout&&(this.states[t].interval=setInterval(function(){e.getData(t)},this.states[t].update_timeout))}},{key:"setBeforeElementInFooter",value:function(t){if(!this.states[t].isWordpress){var e=this.getMainElement(t);if(e){"style"===e.children[0].localName&&e.removeChild(e.childNodes[0]);for(var n=e.querySelector(".cp-widget__footer"),a=n.getBoundingClientRect().width-43,i=0;i<n.childNodes.length;i++)a-=n.childNodes[i].getBoundingClientRect().width;var r=document.createElement("style");r.innerHTML=".cp-widget__footer--"+t+"::before{width:"+a.toFixed(0)+"px;}",e.insertBefore(r,e.children[0])}}}},{key:"updateWidgetElement",value:function(t,a,i,e){var r=this,s=this.states[t],n=this.getMainElement(t);if(n){e=e?"Ticker":"";if("name"===a||"currency"===a){if("currency"===a)for(var o=n.querySelectorAll(".cp-widget__footer > a"),c=0;c<o.length;c++)o[c].href=this.coin_link(i);this.getImage(t)}if("isData"===a||"message"===a)for(var l=n.querySelectorAll(".cp-widget__main"),u=0;u<l.length;u++)l[u].innerHTML=s.isData?this.widgetMainElementData(t):this.widgetMainElementMessage(t);else for(var d,h=n.querySelectorAll("."+a+e),g=0;g<h.length;g++)if(d=function(){var t,e,n=h[g];if(n.classList.contains("cp-widget__rank")&&(t=0<parseFloat(i)?"cp-widget__rank-up":parseFloat(i)<0?"cp-widget__rank-down":"cp-widget__rank-neutral",n.classList.remove("cp-widget__rank-down"),n.classList.remove("cp-widget__rank-up"),n.classList.remove("cp-widget__rank-neutral"),i=void 0===i?p.emptyData:(n.classList.add(t),"price_change_24h"===a?"("+p.round(i,2)+"%)":p.round(i,2)+"%")),n.classList.contains("showDetailsCurrency")&&!s.show_details_currency&&(i=" "),n.classList.contains("parseNumber"))return e=r.defaults.data_src||r.defaults.origin_src,{v:Promise.resolve().then(function(){return p.parseCurrencyNumber(i,s.primary_currency,e)}).then(function(t){return n.innerText=t||p.emptyData})};n.innerText=i||p.emptyData}())return d.v}}},{key:"updateData",value:function(t,e,n,a){a?this.states[t].ticker[e]=n:this.states[t][e]=n,"language"===e&&this.getTranslations(n),"customDate"===e&&(this.defaults.customDate=!!n),"startDate"===e&&(this.defaults.startDate=null!=n&&n),"endDate"===e&&(this.defaults.endDate=null!=n&&n),this.updateWidgetElement(t,e,n,a)}},{key:"updateWidgetTranslations",value:function(n,t){for(var r=this,e=(this.defaults.translations[n]=t,function(a){var t=0<r.states[a].noTranslationLabels.length&&"en"===n;if(r.states[a].language===n||t)for(var t=r.states[a].mainElement,i=Array.prototype.slice.call(t.querySelectorAll(".cp-translation")),e=0;e<i.length;e++)!function(n){i[n].classList.forEach(function(t){var e;-1<t.search("translation_")&&("message"===(t=t.replace("translation_",""))&&(t=r.states[a].message),e=r.states[a].noTranslationLabels.indexOf(t),t=r.getTranslation(a,t),-1<e&&t&&r.states[a].noTranslationLabels.splice(e,1),i[n].innerText=t,i[n].closest(".cp-widget__footer"))&&setTimeout(function(){return r.setBeforeElementInFooter(a)},50)})}(e)}),a=0;a<this.states.length;a++)e(a)}},{key:"updateTicker",value:function(t,e){for(var n=Object.keys(e),a=0;a<n.length;a++)this.updateData(t,n[a],e[n[a]],!0)}},{key:"stylesheet",value:function(){var t;return!1===this.defaults.style_src||(t=this.defaults.style_src||this.defaults.origin_src+"/dist/"+this.defaults.cssFileName,document.body.querySelector('link[href="'+t+'"]'))?Promise.resolve():h.fetchStyle(t)}},{key:"widgetMainElement",value:function(t){var e=this.states[t];return'<div class="cp-widget__header"><div class="cp-widget__img cp-widget__img-'+e.currency+'"><img/></div><div class="cp-widget__main">'+(e.isData?this.widgetMainElementData(t):this.widgetMainElementMessage(t))+"</div></div>"}},{key:"widgetMainElementData",value:function(t){var e=this.states[t];return'<h3><a href="'+this.coin_link(e.currency)+'"><span class="nameTicker">'+(e.ticker.name||p.emptyData)+'</span><span class="symbolTicker">'+(e.ticker.symbol||p.emptyData)+'</span></a></h3><strong><span class="priceTicker parseNumber">'+(p.parseNumber(e.ticker.price)||p.emptyData)+'</span> <span class="primaryCurrency">'+e.primary_currency+' </span><span class="price_change_24hTicker cp-widget__rank cp-widget__rank-'+(0<e.ticker.price_change_24h?"up":e.ticker.price_change_24h<0?"down":"neutral")+'">('+(p.round(e.ticker.price_change_24h,2)||p.emptyValue)+'%)</span></strong><span class="cp-widget__rank-label"><span class="cp-translation translation_rank">'+this.getTranslation(t,"rank")+'</span> <span class="rankTicker">'+(e.ticker.rank||p.emptyData)+"</span></span>"}},{key:"widgetMainElementMessage",value:function(t){var e=this.states[t].message;return'<div class="cp-widget__main-no-data cp-translation translation_message">'+this.getTranslation(t,e)+"</div>"}},{key:"widgetMarketDetailsElement",value:function(t){return Promise.resolve(-1<this.states[t].modules.indexOf("market_details")?'<div class="cp-widget__details">'+this.widgetAthElement(t)+this.widgetVolume24hElement(t)+this.widgetMarketCapElement(t)+"</div>":"")}},{key:"widgetAthElement",value:function(t){return'<div><small class="cp-translation translation_ath">'+this.getTranslation(t,"ath")+'</small><div><span class="price_athTicker parseNumber">'+p.emptyData+' </span><span class="symbolTicker showDetailsCurrency"></span></div><span class="percent_from_price_athTicker cp-widget__rank">'+p.emptyData+"</span></div>"}},{key:"widgetVolume24hElement",value:function(t){return'<div><small class="cp-translation translation_volume_24h">'+this.getTranslation(t,"volume_24h")+'</small><div><span class="volume_24hTicker parseNumber">'+p.emptyData+' </span><span class="symbolTicker showDetailsCurrency"></span></div><span class="volume_24h_change_24hTicker cp-widget__rank">'+p.emptyData+"</span></div>"}},{key:"widgetMarketCapElement",value:function(t){return'<div><small class="cp-translation translation_market_cap">'+this.getTranslation(t,"market_cap")+'</small><div><span class="market_capTicker parseNumber">'+p.emptyData+' </span><span class="symbolTicker showDetailsCurrency"></span></div><span class="market_cap_change_24hTicker cp-widget__rank">'+p.emptyData+"</span></div>"}},{key:"widgetChartElement",value:function(t){return Promise.resolve('<div class="cp-widget__chart"><div id="'.concat(this.defaults.className,"-price-chart-").concat(t,'"></div></div>'))}},{key:"widgetSelectElement",value:function(t,e){for(var n="",a=0;a<this.states[t][e+"_list"].length;a++){var i=this.states[t][e+"_list"][a];n+='<button class="'+(i.toLowerCase()===this.states[t][e].toLowerCase()?"cp-widget-active ":"")+("primary_currency"===e?"":"cp-translation translation_"+i.toLowerCase())+'" data-option="'+i+'">'+this.getTranslation(t,i.toLowerCase())+"</button>"}return'<div data-type="'+e+'" class="cp-widget-select"><label class="cp-translation translation_'+e+'">'+this.getTranslation(t,"zoom_in")+'</label><div class="cp-widget-select__options"><span class="arrow-down cp-widget__capitalize cp-translation translation_'+this.states[t][e].toLowerCase()+'">'+this.getTranslation(t,this.states[t][e].toLowerCase())+'</span><div class="cp-widget-select__dropdown">'+n+"</div></div></div>"}},{key:"widgetFooter",value:function(t){var e=this.states[t].currency;return this.states[t].isWordpress?"":'<p class="cp-widget__footer cp-widget__footer--'+t+'"><span class="cp-translation translation_powered_by">'+this.getTranslation(t,"powered_by")+' </span><img style="width: 16px" src="'+this.main_logo_link()+'" alt=""/><a target="_blank" href="'+this.coin_link(e)+'">coinpaprika.com</a></p>'}},{key:"getImage",value:function(t){for(var a=this,i=this.states[t],r=i.mainElement.getElementsByClassName("cp-widget__img"),s=0;s<r.length;s++)!function(){var t=r[s],e=(t.classList.add("cp-widget__img--hidden"),t.querySelector("img")),n=new Image;n.onload=function(){e.src=n.src,t.classList.remove("cp-widget__img--hidden")},n.src=a.img_src(i.currency)}()}},{key:"img_src",value:function(t){return"https://coinpaprika.com/coin/"+t+"/logo.png"}},{key:"coin_link",value:function(t){return"https://coinpaprika.com/coin/"+t}},{key:"main_logo_link",value:function(){return this.defaults.img_src||this.defaults.origin_src+"/dist/img/logo_widget.svg"}},{key:"getScriptElement",value:function(){return document.querySelector("script[data-cp-currency-widget]")}},{key:"getTranslation",value:function(t,e){var n=this.defaults.translations[this.states[t].language]?this.defaults.translations[this.states[t].language][e]:null;return(n=!n&&this.defaults.translations.en?this.defaults.translations.en[e]:n)||this.addLabelWithoutTranslation(t,e)}},{key:"addLabelWithoutTranslation",value:function(t,e){return this.defaults.translations.en||this.getTranslations("en"),this.states[t].noTranslationLabels.push(e)}},{key:"getTranslations",value:function(e){var n,a=this;if(!this.defaults.translations[e])return n=this.defaults.lang_src||this.defaults.origin_src+"/dist/lang/"+e+".json",this.defaults.translations[e]={},h.fetchJsonFile(n,!0).then(function(t){t?a.updateWidgetTranslations(e,t):(a.onErrorRequest(0,n+t),a.getTranslations("en"),delete a.defaults.translations[e])})}}]),t}(),l=function(){function e(t,a){var i=this;s(this,e),t&&(this.id=t.id,this.isNightMode=a.isNightMode,this.chartsWithActiveSeriesCookies=[],this.chart=null,this.currency=a.currency,this.container=t,this.options=this.setOptions(),this.defaultRange=a.range||"7d",this.customDate=a.customDate||!1,this.startDate=a.startDate||!1,this.endDate=a.endDate||!1,this.callback=null,this.replaceCallback=null,this.extremesDataUrl=this.getExtremesDataUrl(t.id),this.defaultOptions={chart:{alignTicks:!1,marginTop:50,style:{fontFamily:"sans-serif"},events:{render:function(t){var n;t.target.annotations&&(n=t.target.annotations.chart,p.loop(n.annotations.allItems,function(t){var e=n.plotHeight+n.plotTop-n.spacing[0]-2-(i.isResponsiveModeActive(n)?10:0);t.update({y:e},!0)}))}}},scrollbar:{enabled:!1},annotationsOptions:{enabledButtons:!1},rangeSelector:{enabled:!1},plotOptions:{line:{series:{states:{hover:{enabled:!1}}}},series:{events:{legendItemClick:function(t){return t.browserEvent.isTrusted&&-1<i.chartsWithActiveSeriesCookies.indexOf(t.target.chart.renderTo.id)&&i.setVisibleChartCookies(t),t.browserEvent.isTrusted}}}},xAxis:{ordinal:!1}},this.chartDataParser=function(n){return new Promise(function(t){n=n[0];var e=a.primary_currency.toLowerCase();return t({data:{price:n.price||n[e]||[],volume:n.volume||[]}})})},this.isEventsHidden=!1,this.excludeSeriesIds=[],this.asyncUrl="/currency/data/".concat(a.currency,"/_range_/"),this.asyncParams="?quote=".concat(a.primary_currency.toUpperCase(),"&fields=price,volume"),this.init())}return i(e,[{key:"setOptions",value:function(){var t=new e;return{responsive:{rules:[{condition:{maxWidth:1500},chartOptions:{legend:{align:"right",verticalAlign:"middle",y:92,symbolRadius:0,itemDistance:20,itemStyle:{fontSize:10}},chart:{height:400,marginTop:35,marginBottom:0,spacingTop:0,spacingBottom:0},navigator:{height:50,margin:70,handles:{height:25,width:17}}}},{condition:{maxWidth:600},chartOptions:{chart:{marginTop:0,zoomType:"none",marginLeft:10,marginRight:10,height:350},yAxis:[{floor:0,tickAmount:7,tickWidth:0,tickLength:0,lineWidth:0,title:{enabled:!1},labels:{align:"left",x:1,y:-2,style:{color:"#9e9e9e",fontSize:"9px"}}},{floor:0,tickAmount:7,tickWidth:0,tickLength:0,lineWidth:0,title:{enabled:!1},labels:{align:"right",overflow:"justify",x:1,y:-2,style:{color:"#5085ec",fontSize:"9px"}}}]}},{condition:{maxWidth:450},chartOptions:{legend:{align:"right",verticalAlign:"middle",y:82,symbolRadius:0,itemDistance:20,itemStyle:{fontSize:10}},navigator:{margin:60,height:40,handles:{height:20}},chart:{height:300},yAxis:[{floor:0,tickAmount:7,tickWidth:0,tickLength:0,lineWidth:0,title:{enabled:!1},labels:{align:"left",x:1,y:-2,style:{color:"#9e9e9e",fontSize:"9px"}}},{floor:0,tickAmount:7,tickWidth:0,tickLength:0,lineWidth:0,title:{enabled:!1},labels:{align:"right",overflow:"justify",x:1,y:-2,style:{color:"#5085ec",fontSize:"9px"}}}]}}]},title:{text:void 0},chart:{backgroundColor:"none",marginTop:50,plotBorderWidth:0},cpEvents:!1,colors:["#5085ec","#1f9809","#985d65","#ee983b","#4c4c4c"],legend:{margin:0,enabled:!0,align:"right",symbolRadius:0,itemDistance:40,itemStyle:{fontWeight:"normal",color:this.isNightMode?"#80a6e5":"#0645ad"},itemMarginTop:8},navigator:!0,tooltip:{shared:!0,split:!1,animation:!1,borderWidth:1,borderColor:this.isNightMode?"#4c4c4c":"#e3e3e3",hideDelay:100,shadow:!1,backgroundColor:"#ffffff",style:{color:"#4c4c4c",fontSize:"10px"},useHTML:!0,formatter:function(){return t.tooltipFormatter(this)}},exporting:{buttons:{contextButton:{enabled:!1}}},xAxis:{lineColor:this.isNightMode?"#505050":"#e3e3e3",tickColor:this.isNightMode?"#505050":"#e3e3e3",tickLength:7},yAxis:[{lineWidth:1,lineColor:"#dedede",tickWidth:1,tickLength:4,gridLineDashStyle:"dash",gridLineWidth:0,floor:0,minPadding:0,opposite:!1,showEmpty:!1,showLastLabel:!1,showFirstLabel:!1},{gridLineColor:this.isNightMode?"#505050":"#e3e3e3",gridLineDashStyle:"dash",lineWidth:1,tickWidth:1,tickLength:4,floor:0,minPadding:0,showEmpty:!1,opposite:!0,gridZIndex:4,showLastLabel:!1,showFirstLabel:!1}],series:[{color:"#5085ec",name:"Price",id:"price",data:[],type:"area",fillOpacity:.15,lineWidth:2,yAxis:1,zIndex:2,visible:!0,clickable:!0,threshold:null,tooltip:{valueDecimals:0},showInNavigator:!0,showInLegend:!1},{color:"url(#fill-pattern".concat(this.isNightMode?"-night":"",")"),name:"Volume",id:"volume",data:[],type:"area",fillOpacity:.5,lineWidth:0,yAxis:0,zIndex:0,visible:!0,clickable:!0,threshold:null,tooltip:{valueDecimals:0},showInNavigator:!0}]}}},{key:"init",value:function(){var e=this,t=Promise.resolve();return t=(t=t.then(function(){return e.parseOptions(e.options)})).then(function(t){return window.Highcharts?Highcharts.stockChart(e.container.id,t,function(t){return e.bind(t)}):null})}},{key:"parseOptions",value:function(t){var e=this,n=Promise.resolve();return n=(n=(n=(n=(n=n.then(function(){return p.updateObject(e.defaultOptions,t)})).then(function(t){return p.updateObject(e.getVolumePattern(),t)})).then(function(t){return e.setNavigator(t)})).then(function(t){return t.noData?e.setNoDataLabel(t):t})).then(function(t){return t})}},{key:"bind",value:function(t){var e=this,n=Promise.resolve();return n=(n=(n=(n=n.then(function(){return e.chart=t})).then(function(){return e.customDate?e.fetchDataPackage(e.startDate,e.endDate,!0):e.fetchDataPackage()})).then(function(){return e.setRangeSwitcher()})).then(function(){return e.callback?e.callback(e.chart,e.defaultRange):null})}},{key:"fetchDataPackage",value:function(e,n){var a=this,i=!!e&&!!n,r=!!(2<arguments.length&&void 0!==arguments[2]&&arguments[2])||!i,t=Promise.resolve();return t=(t=(t=(t=(t=(t=t.then(function(){var t;return a.options.cpEvents&&(t=i?a.getNavigatorExtremesUrl(e,n,"events"):a.getExtremesDataUrl(a.id,"events")+"/"+a.getRange()+"/")?a.fetchData(t,"events",r):null})).then(function(){var t=(i?a.getNavigatorExtremesUrl(e,n):a.asyncUrl.replace("_range_",a.getRange()))+a.asyncParams;return t?a.fetchData(t,"data",r):null})).then(function(){return a.chart.redraw(!1)})).then(function(){return i?null:a.chart.zoomOut()})).then(function(){return a.isLoaded=!0})).then(function(){return a.toggleEvents()})}},{key:"fetchData",value:function(t){var n=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"data",i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],e=Promise.resolve();return e=(e=e.then(function(){return n.chart.showLoading(),h.fetchChartData(t,!n.isLoaded)})).then(function(t){return n.chart.hideLoading(),200!==t.status?console.log("Looks like there was a problem. Status Code: ".concat(t.status)):t.json().then(function(t){var e=Promise.resolve();return e=(e=e.then(function(){return n.dataParser(t,a)})).then(function(t){return i?n.replaceData(t.data,a):n.updateData(t.data,a)})})}).catch(function(t){return n.chart.hideLoading(),n.hideChart(),console.log("Fetch Error",t)})}},{key:"hideChart",value:function(){var t=this,e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0]?"add":"remove",n=p.nodeListToArray(this.container.parentElement.childNodes),a=Promise.resolve();return a=(a=(a=a.then(function(){return n.filter(function(t){return-1===t.id.search("chart")})})).then(function(t){return p.loop(t,function(t){return t.classList[e]("cp-hidden")})})).then(function(){return t.container.parentElement.classList[e]("cp-chart-no-data")})}},{key:"setRangeSwitcher",value:function(){var e=this;document.addEventListener("".concat(this.id,"-switch-range"),function(t){return e.defaultRange=t.detail.data,e.fetchDataPackage()})}},{key:"getRange",value:function(){return this.defaultRange||"1q"}},{key:"toggleEvents",value:function(){var e=this,t=Promise.resolve();return t=this.options.cpEvents?(t=(t=(t=t.then(function(){return document.getElementsByClassName("highcharts-annotation")})).then(function(t){return p.loop(t,function(t){return e.isEventsHidden?t.classList.contains("highcharts-annotation__hidden")?null:t.classList.add("highcharts-annotation__hidden"):t.classList.contains("highcharts-annotation__hidden")?t.classList.remove("highcharts-annotation__hidden"):null})})).then(function(){return document.getElementsByClassName("highcharts-plot-line")})).then(function(t){return p.loop(t,function(t){return e.isEventsHidden?t.classList.contains("highcharts-plot-line__hidden")?null:t.classList.add("highcharts-plot-line__hidden"):t.classList.contains("highcharts-plot-line__hidden")?t.classList.remove("highcharts-plot-line__hidden"):null})}):t}},{key:"dataParser",value:function(t){var e=this;switch(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"data"){case"data":return Promise.resolve().then(function(){return e.chartDataParser?e.chartDataParser(t):{data:t[0]}});case"events":return Promise.resolve(t);default:return null}}},{key:"updateData",value:function(n,a){var i,r=this,t=Promise.resolve();return t=(t=t.then(function(){switch(a){case"data":return i={},p.loop(Object.entries(n),function(t){var e;r.isExcluded(t[0])||(e=r.getOldData(a)[t[0]],i[t[0]]=e.filter(function(e){return-1===t[1].findIndex(function(t){return r.isTheSameElement(e,t,a)})}).concat(t[1]).sort(function(t,e){return r.sortCondition(t,e,a)}))});case"events":i=[];var t=r.getOldData(a);return i=t.filter(function(e){n.findIndex(function(t){return r.isTheSameElement(e,t,a)})}).concat(n).sort(function(t,e){return r.sortCondition(t,e,a)});default:return!1}})).then(function(){return r.replaceData(i,a)})}},{key:"isTheSameElement",value:function(t,e,n){switch(n){case"data":return t[0]===e[0];case"events":return t.ts===e.ts;default:return!1}}},{key:"sortCondition",value:function(t,e,n){switch(n){case"data":return t[0]-e[0];case"events":return t.ts-e.ts;default:return!1}}},{key:"getOldData",value:function(t){return this["chart_"+t.toLowerCase()]}},{key:"replaceData",value:function(t,e){var n=this,a=Promise.resolve();return a=(a=(a=a.then(function(){return n["chart_"+e.toLowerCase()]=t})).then(function(){return n.replaceDataType(t,e)})).then(function(){return n.replaceCallback?n.replaceCallback(n.chart,t,n.isLoaded,e):null})}},{key:"replaceDataType",value:function(n,t){var a=this;switch(t){case"data":return this.asyncUrl&&p.loop(["btc-bitcoin","eth-ethereum"],function(t){var e=t.split("-")[0];-1<a.asyncUrl.search(t)&&n[e]&&(n[e]=[],p.loop(a.chart.series,function(t){t.userOptions.id===e&&t.update({visible:!1})}))}),p.loop(Object.entries(n),function(t){if(!a.isExcluded(t[0]))return a.chart.get(t[0])?a.chart.get(t[0]).setData(t[1],!1,!1,!1):a.chart.addSeries({id:t[0],data:t[1],showInNavigator:!0})});case"events":var e=Promise.resolve();return e=(e=e.then(function(){return p.loop(a.chart.annotations.allItems,function(t){return t.destroy()})})).then(function(){return a.setAnnotationsObjects(n)});default:return null}}},{key:"isExcluded",value:function(t){return-1<this.excludeSeriesIds.indexOf(t)}},{key:"tooltipFormatter",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=(n=2<arguments.length?arguments[2]:void 0)||e,a='<div class="cp-chart-tooltip-currency"><small>'+new Date(t.x).toUTCString()+"</small><table>",i="";return t.points.forEach(function(t){i+='<tr><td class="cp-chart-tooltip-currency__row"><svg class="cp-chart-tooltip-currency__icon" width="5" height="5"><rect x="0" y="0" width="5" height="5" fill="'+t.series.color+'" fill-opacity="1"></rect></svg>'+t.series.name+": "+t.y.toLocaleString("ru-RU",{maximumFractionDigits:8}).replace(",",".")+" "+(-1<t.series.name.toLowerCase().search(n.toLowerCase())?"":e)+"</td></tr>"}),a+i+"</table></div>"}},{key:"setAnnotationsObjects",value:function(t){var n=this,a=(this.chart.series[0].xAxis.removePlotLine(),[]),e=Promise.resolve();return e=(e=(e=e.then(function(){return t.sort(function(t,e){return e.ts-t.ts})})).then(function(){return p.loop(t,function(t){var e=Promise.resolve();return e=(e=e.then(function(){return a.push({width:1,value:t.ts,dashStyle:"solid",zIndex:4,color:n.getEventTagParams().color})})).then(function(){return n.chart.addAnnotation({xValue:t.ts,y:0,title:'<span title="Click to open" class="cp-chart-annotation__text">'.concat(n.getEventTagParams(t.tag).label,'</span><span class="cp-chart-annotation__dataElement" style="display: none;">').concat(JSON.stringify(t),"</span>"),shape:{type:"circle",params:{r:11,cx:9,cy:10.5,"stroke-width":1.5,fill:n.getEventTagParams().color}},events:{mouseover:function(t){var e;MobileDetect.isMobile()||(e=n.getEventDataFromAnnotationEvent(t),n.openEventContainer(e,t))},mouseout:function(){MobileDetect.isMobile()||n.closeEventContainer(event)},click:function(t){var e=n.getEventDataFromAnnotationEvent(t);MobileDetect.isMobile()?n.openEventContainer(e,t):n.openEventPage(e)}}})})})})).then(function(){return n.chart.series[0].xAxis.update({plotLines:a},!1)})}},{key:"setNavigator",value:function(t){var e=this,n={};return Promise.resolve().then(function(){return!0===t.navigator?(n={navigator:{enable:!0,margin:20,series:{lineWidth:1},maskFill:"rgba(102,133,194,0.15)"},chart:{zoomType:"x"},xAxis:{events:{setExtremes:function(t){("navigator"===t.trigger||"zoom"===t.trigger)&&t.min&&t.max&&document.dispatchEvent(new CustomEvent(e.id+"SetExtremes",{detail:{minDate:t.min,maxDate:t.max,e:t}}))}}}},e.navigatorExtremesListener(),e.setResetZoomButton()):t.navigator||(n={navigator:{enabled:!1}}),p.updateObject(t,n)})}},{key:"setResetZoomButton",value:function(){var e=this,t=Promise.resolve();return t=(t=(t=t.then(function(){return e.addContainer(e.id,"ResetZoom","cp-chart-reset-zoom","button")})).then(function(){return e.getContainer("ResetZoom")})).then(function(t){return t.classList.add("uk-button"),t.innerText="Reset zoom",t.addEventListener("click",function(){e.chart.zoomOut()})})}},{key:"navigatorExtremesListener",value:function(){var a=this;return Promise.resolve().then(function(){return document.addEventListener(a.id+"SetExtremes",function(t){var e=p.round(t.detail.minDate/1e3,0),n=p.round(t.detail.maxDate/1e3,0);return Promise.resolve().then(function(){return a.fetchDataPackage(e,n)})})})}},{key:"getNavigatorExtremesUrl",value:function(t,e,n){n=n?this.getExtremesDataUrl(this.id,n):this.extremesDataUrl;return t&&e&&n?n+"/dates/"+t+"/"+e+"/":null}},{key:"setNoDataLabel",value:function(t){var e;return Promise.resolve().then(function(){return e={lang:{noData:"We don't have data for this time period"},noData:{style:{fontFamily:"Arial",fontSize:"14px",color:"#000000"}}},p.updateObject(t,e)})}},{key:"addContainer",value:function(t,e,n){var a=document.createElement(3<arguments.length&&void 0!==arguments[3]?arguments[3]:"div"),i=document.getElementById(t);a.id=t+e,a.classList.add(n),i.appendChild(a)}},{key:"getContainer",value:function(t){return document.getElementById(this.id+t)}},{key:"getExtremesDataUrl",value:function(t){return"/currency/"+(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"data")+"/"+this.currency}},{key:"getVolumePattern",value:function(){return{defs:{patterns:[{id:"fill-pattern",path:{d:"M 3 0 L 3 10 M 8 0 L 8 10",stroke:"#e3e3e3",fill:"#f1f1f1",strokeWidth:2}},{id:"fill-pattern-night",path:{d:"M 3 0 L 3 10 M 8 0 L 8 10",stroke:"#9b9b9b",fill:"#383838",strokeWidth:2}}]}}}}]),e}(),u=function(){function t(){s(this,t),this.emptyValue=0,this.emptyData="-"}return i(t,[{key:"nodeListToArray",value:function(t){return Array.prototype.slice.call(t)}},{key:"parseIntervalValue",value:function(t){var e="",n=1;return-1<t.search("s")&&(e="s",n=1e3),-1<t.search("m")&&(e="m",n=6e4),-1<t.search("h")&&(e="h",n=36e5),-1<t.search("d")&&(e="d",n=864e5),parseFloat(t.replace(e,""))*n}},{key:"isFiat",value:function(e,t){t||Promise.resolve(!1);var n=Promise.resolve();return n=(n=n.then(function(){return h.fetchJsonFile(t+"/dist/data/currencies.json",!0)})).then(function(t){return t[e.toUpperCase()]})}},{key:"updateObject",value:function(t,n){var a=this,i=t,t=Promise.resolve();return t=(t=t.then(function(){return p.loop(Object.keys(n),function(e){return i.hasOwnProperty(e)&&"object"===r(i[e])?a.updateObject(i[e],n[e]).then(function(t){i[e]=t}):i[e]=n[e]})})).then(function(){return i})}},{key:"parseCurrencyNumber",value:function(e,t,n){var a=this,i=Promise.resolve();return i=(i=i.then(function(){return a.isFiat(t,n)})).then(function(t){return t?a.parseNumber(e,2):a.parseNumber(e)})}},{key:"parseNumber",value:function(t,e){var n,a,i;return!t&&0!==t||t===this.emptyValue||t===this.emptyData?t:1e5<(t=parseFloat(t))?(a="K",i=(n=t.toFixed(0)).slice(0,n.length-1),1e9<t?(i=n.slice(0,n.length-7),a="B"):1e6<t&&(i=n.slice(0,n.length-4),a="M"),i.slice(0,i.length-2)+"."+i.slice(i.length-2)+" "+a):(0<t%1?((!e||t<.01)&&(e=2,t<1?e=8:t<10?e=6:t<1e3&&(e=4)),this.round(t,e).toLocaleString("ru-RU",{maximumFractionDigits:e})):t.toLocaleString("ru-RU",{minimumFractionDigits:2})).replace(",",".")}},{key:"round",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:8,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"round";return t=parseFloat(t),e=Math.pow(10,e),Math[n](t*e)/e}},{key:"loop",value:function(i,r,t,e){function s(t,e){try{var n=r(i[c],c,i);n&&n.then?n.then(t).catch(e):t(n)}catch(t){e(t)}}function n(t,e){return c<i.length?new Promise(s).then((n=t,a=e,function(){return o.loop(i,r,n,a,++c)})).catch(e):t();var n,a}var o=this,c=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0;return t?n(t,e):new Promise(n)}}]),t}(),d=function(){function t(){s(this,t),this.state={}}return i(t,[{key:"fetchScript",value:function(a){var i=this;return this.state[a]?Promise.resolve(null):(this.state[a]="pending",new Promise(function(t,e){var n=document.createElement("script");document.body.appendChild(n),n.addEventListener("load",function(){i.state&&(i.state[a]="downloaded"),t()}),n.addEventListener("error",function(){i.state&&delete i.state[a],e(new Error("Failed to load image's URL: ".concat(a)))}),n.async=!0,n.src=a}))}},{key:"fetchStyle",value:function(a){var i=this;return this.state[a]?Promise.resolve(null):(this.state[a]="pending",new Promise(function(t,e){var n=document.createElement("link");n.setAttribute("rel","stylesheet"),document.body.appendChild(n),n.setAttribute("href",a),n.addEventListener("load",function(){i.state&&(i.state[a]="downloaded"),t()}),n.addEventListener("error",function(){i.state&&delete i.state[a],e(new Error("Failed to load style URL: ".concat(a)))}),n.href=a}))}},{key:"fetchChartData",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],t="https://graphsv2.coinpaprika.com".concat(t);return this.fetchData(t,e)}},{key:"fetchData",value:function(n){var a=this,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return Promise.resolve().then(function(){if(i){if("pending"===a.state[n])return new Promise(function(t,e){setTimeout(function(){t(a.fetchData(n,i))},100)});if(a.state[n])return Promise.resolve(a.state[n].clone())}a.state[n]="pending";var t=Promise.resolve();return t=(t=t.then(function(){return fetch(n)})).then(function(t){return(a.state[n]=t).clone()})})}},{key:"fetchJsonFile",value:function(t){return this.fetchData(t,1<arguments.length&&void 0!==arguments[1]&&arguments[1]).then(function(t){return 200===t.status&&t.json()}).catch(function(){return!1})}}]),t}(),p=(new o,new u),h=new d},{}]},{},[1]);